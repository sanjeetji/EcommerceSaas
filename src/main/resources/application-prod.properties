# --- DB (PROD) ---
spring.datasource.url=jdbc:mysql://<prod-host>:3306/ecommerce_db?useSSL=true&serverTimezone=UTC
spring.datasource.username=<prod-user>
spring.datasource.password=<prod-password>
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# --- JPA / Hibernate ---
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.filters.tenantFilter.condition=client_id = :currentTenant
# (Optional) Avoid explicit dialect to reduce warnings:
# spring.jpa.properties.hibernate.dialect=

# --- Cache / Redis (ENABLED) ---
spring.cache.type=redis
spring.data.redis.host=<prod-redis-host>
spring.data.redis.port=6379
# spring.data.redis.password=<redis-pass-if-any>
management.health.redis.enabled=true

# --- JWT (FIXED, from env) ---
# REQUIRED in prod: set JWT_SECRET via your deploy environment
jwt.secret=${JWT_SECRET}
jwt.expiry.access=900
jwt.expiry.refresh=604800
# rotation skipped when fixed secret present
jwt.rotation.enabled=false

# --- If instead you want app-managed rotation in prod, comment the 4 lines above and use this:
# jwt.expiry.access=900
# jwt.expiry.refresh=604800
# jwt.rotation.enabled=true
# jwt.rotation.cron=0 0 0 1 */6 ?
# jwt.rotation.old-key-ttl=86400
# (AND ensure JWT_SECRET is NOT set in the environment)
