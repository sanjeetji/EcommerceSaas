# --- DB (local) ---
spring.datasource.url=jdbc:mysql://localhost:3306/ecommerce_db?useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=SanjeetKumar
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# --- JPA / Hibernate ---
spring.jpa.hibernate.ddl-auto=update
# (Optional) Let Hibernate pick the dialect automatically; remove if you prefer fewer warnings:
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.filters.tenantFilter.condition=client_id = :currentTenant

# --- Tasks ---
spring.task.execution.thread-name-prefix=async-
spring.task.execution.virtual.enabled=true

# --- Cache / Redis (DISABLED in dev) ---
spring.cache.type=none
spring.autoconfigure.exclude=\
org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration
management.health.redis.enabled=false

# --- JWT (FIXED secret, NO rotation) ---
# Provide a base64-encoded 32-byte secret (length 44 with ==). Generate one: `openssl rand -base64 32`
jwt.secret=4f8i7YJc0m5Vq3j2s9a1d6f8k2p4r6t8w0y2u4x6z8A=
jwt.expiry.access=900
jwt.expiry.refresh=604800
jwt.rotation.enabled=false

# Optional: verbose property binding in dev
# logging.level.org.springframework.boot.context.properties=DEBUG
